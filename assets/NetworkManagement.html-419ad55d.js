import{_ as n,o as s,c as a,e}from"./app-21fd3c9b.js";const t={},o=e(`<h1 id="网络管理" tabindex="-1"><a class="header-anchor" href="#网络管理" aria-hidden="true">#</a> 网络管理</h1><h2 id="ifconfig命令" tabindex="-1"><a class="header-anchor" href="#ifconfig命令" aria-hidden="true">#</a> ifconfig命令</h2><blockquote><p>ifconfig用于管理网络设备。</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> net-tools
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">ifconfig</span>
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> dhclient 			//自动获取IP地址
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">ifconfig</span> ens33 up  //启动网卡名为ens33的网卡设备
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> dhclient 			//自动获取IP地址
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">ping</span> qq.com 			//测试网络联通性。

<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">ifconfig</span> ens33 down  //关闭网卡名为ens33的网卡设备
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">ifconfig</span> ens33 hw ether 00:AA:BB:CC:DD:EE  //设置ens33网卡设备的MAC地址为00:AA:BB:CC:DD:EE。
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">ifconfig</span> ens33 up  //启动网卡名为ens33的网卡设备
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> dhclient 			//自动获取IP地址
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>设置动态IP参考</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>book@virtual-machine:~$ <span class="token function">cat</span> /etc/netplan/01-netplan.yaml
network:
 version: <span class="token number">2</span>
 ethernets:
    ens33:
      dhcp4: <span class="token boolean">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>设置静态IP参考</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>book@virtual-machine:~$ <span class="token function">cat</span> /etc/netplan/01-netplan.yaml
network:
 version: <span class="token number">2</span>
 renderer: networkd
 ethernets:
    ens192:
      dhcp4: no
      addresses: <span class="token punctuation">[</span><span class="token number">192.168</span>.1.133/24<span class="token punctuation">]</span>
      gateway4: <span class="token number">192.168</span>.1.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ping命令" tabindex="-1"><a class="header-anchor" href="#ping命令" aria-hidden="true">#</a> ping命令</h2><blockquote><p>用于检测或验证网络连通性。</p></blockquote><div class="language-ba line-numbers-mode" data-ext="ba"><pre class="language-ba"><code>[ubuntu@book:~]$ ping qq.com	//验证与qq.com的连通性
[ubuntu@book:~]$ ping 192.168.1.1 //验证与192.168.1.1的连通性
[ubuntu@book:~]$ ping -I ens36 qq.com //指定使用ens36网卡去验证与qq.com网站的连通性。
[ubuntu@book:~]$ ping -I ens36 192.168.1.1  //指定使用ens36网卡去验证与IP地址192.168.1.1的连通性。
[ubuntu@book:~]$ ping  -i 3 -s 1024 qq.com  //设置3秒 数据包大小1024 去验证和qq.com的连通性。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>网络联通状态。</p></li><li><p>网络通信异常情况。</p></li></ul><h2 id="samba共享文件" tabindex="-1"><a class="header-anchor" href="#samba共享文件" aria-hidden="true">#</a> samba共享文件</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> cifs-utils smaba <span class="token parameter variable">-y</span>
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">nano</span> /etc/samba/smb.conf
<span class="token punctuation">[</span>share<span class="token punctuation">]</span>
   comment <span class="token operator">=</span> All Printers
   available <span class="token operator">=</span> <span class="token function">yes</span>
   browseable <span class="token operator">=</span> <span class="token function">yes</span>
   path <span class="token operator">=</span> /home/ubuntu/Downloads
   public  <span class="token operator">=</span> <span class="token function">yes</span>
   writable <span class="token operator">=</span> <span class="token function">yes</span>
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> smbpasswd <span class="token parameter variable">-a</span> ubuntu
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> /etc/init.d/smbd restart 
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token parameter variable">-R</span> go+rwx  Downloads/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Windows下输入<code>\\\\IP\\share </code>在弹出的对话框内输入我们刚才设置 smbpasswd 用户名和密码。</li></ul><h2 id="nfs服务" tabindex="-1"><a class="header-anchor" href="#nfs服务" aria-hidden="true">#</a> nfs服务</h2><blockquote><p>NFS即网络文件系统，允许开发板直接通过网络挂载PC机中的文件夹。</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> nfs-kernel-server
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">mkdir</span> ~/nfs_rootfs
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">nano</span> /etc/exports
/home/ubuntu/nfs_rootfs  *<span class="token punctuation">(</span>rw,nohide,insecure,no_subtree_check,async,no_root_squash<span class="token punctuation">)</span>
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">service</span> nfs-kernel-server restart

<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">mount</span> <span class="token parameter variable">-t</span> nfs <span class="token number">127.0</span>.0.1:/home/ubuntu/nfs_rootfs /mnt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="tftp服务" tabindex="-1"><a class="header-anchor" href="#tftp服务" aria-hidden="true">#</a> tftp服务</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$  <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> tftp-hpa tftpd-hpa
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">mkdir</span> ~/tftpboot
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">777</span> ~/tftpboot
<span class="token punctuation">[</span>ubuntu@book:~/tftpboot<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">nano</span> /etc/default/tftpd-hpa
<span class="token assign-left variable">TFTP_USERNAME</span><span class="token operator">=</span><span class="token string">&quot;tftp&quot;</span>
<span class="token assign-left variable">TFTP_DIRECTORY</span><span class="token operator">=</span><span class="token string">&quot;/home/ubuntu/tftpboot&quot;</span>
<span class="token assign-left variable">TFTP_OPTIONS</span><span class="token operator">=</span><span class="token string">&quot;-l -c -s&quot;</span>
<span class="token assign-left variable">TFTP_ADDRESS</span><span class="token operator">=</span><span class="token string">&quot;:69&quot;</span>
<span class="token punctuation">[</span>ubuntu@book:~/tftpboot<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">service</span> tftpd-hpa restart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>TFTP_OPTIONS=&quot;-l -c -s&quot; -s表示安全 -c表示运行上传</p></blockquote><ul><li>开发板内使用tftp命令上传下载文件</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># tftp -r test1 -g 192.168.1.20   //从192.168.1.20服务器获取到 test1文件。</span>
<span class="token comment"># tftp -l 1.txt   -p 192.168.1.20  //将本地的1.txt上传到 192.168.1.20服务器。</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="netstat命令" tabindex="-1"><a class="header-anchor" href="#netstat命令" aria-hidden="true">#</a> netstat命令</h2><blockquote><p>用于查看系统网络详细连接信息。</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">netstat</span> <span class="token parameter variable">-a</span>  //显示详细的网路状况。
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">netstat</span> <span class="token parameter variable">-apu</span> //显示端口号等使用情况。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="tcpdump命令" tabindex="-1"><a class="header-anchor" href="#tcpdump命令" aria-hidden="true">#</a> tcpdump命令</h2><blockquote><p>用于侦听网络传输的数据。</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ tcpdump 	//显示所有的网络包信息。
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ tcpdump <span class="token parameter variable">-i</span> ens36  //指定网卡设备，监听ens36的网络包信息
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ tcpdump <span class="token parameter variable">-i</span> ens36 <span class="token parameter variable">-q</span> //以精简模式显示
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ tcpdump <span class="token parameter variable">-i</span> ens36 <span class="token parameter variable">-vv</span> //显示更详细的信息。
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ tcpdump <span class="token parameter variable">-c</span> <span class="token number">10</span> <span class="token parameter variable">-i</span> ens36 <span class="token parameter variable">-vv</span> //监听ens36,只抓取10个包。
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ tcpdump <span class="token parameter variable">-c</span> <span class="token number">10</span> <span class="token parameter variable">-i</span> ens36 <span class="token parameter variable">-vv</span>  <span class="token operator">&gt;</span> tcpdump.cap //监听ens36,只抓取10个包,导出到tcpudump.cap文件内。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ip命令" tabindex="-1"><a class="header-anchor" href="#ip命令" aria-hidden="true">#</a> ip命令</h2><blockquote><p>比ifconfig更强大的一个 网络管理命令。</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">ip</span> <span class="token function">link</span> show 
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">ip</span> a 
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">ip</span> addr show
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">ip</span> <span class="token function">link</span> <span class="token builtin class-name">set</span> ens36 up
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">ip</span> <span class="token function">link</span> <span class="token builtin class-name">set</span> ens36 down
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">ip</span> addr <span class="token function">add</span> <span class="token number">192.168</span>.1.20/24 dev ens36 
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">ip</span> addr del <span class="token number">192.168</span>.1.20/24 dev ens36 
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">ip</span> <span class="token parameter variable">-s</span> <span class="token function">link</span> list 
<span class="token punctuation">[</span>ubuntu@book:~<span class="token punctuation">]</span>$ <span class="token function">ip</span> route list
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,32),p=[o];function i(u,c){return s(),a("div",null,p)}const d=n(t,[["render",i],["__file","NetworkManagement.html.vue"]]);export{d as default};
