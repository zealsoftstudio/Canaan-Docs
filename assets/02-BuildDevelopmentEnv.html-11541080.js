import{_ as s,r as i,o as l,c as r,a as e,b as n,d as a,e as o}from"./app-21fd3c9b.js";const d={},c=o('<h1 id="开发环境搭建" tabindex="-1"><a class="header-anchor" href="#开发环境搭建" aria-hidden="true">#</a> 开发环境搭建</h1><p><strong>硬件要求：</strong></p><ul><li>一台PC电脑： <ul><li>显卡，显存4GB以上</li><li>内存16GB以上</li><li>硬盘100GB以上（建议200GB以上）</li><li>系统：Windows10/11系统</li></ul></li></ul><p><strong>软件要求：</strong></p>',4),p={href:"https://www.vmware.com/cn/products/workstation-pro/workstation-pro-evaluation.html",target:"_blank",rel:"noopener noreferrer"},u=e("p",null,"Ubuntu镜像，可通过以下两种方法获取：",-1),m={href:"https://dongshanpi.cowtransfer.com/s/386fc0c0310946",target:"_blank",rel:"noopener noreferrer"},g={href:"https://pan.baidu.com/s/1LbkblZvlbsXiJWH-mzFsWw?pwd=blgh",target:"_blank",rel:"noopener noreferrer"},h=o(`<p>开始前请点击上面的VMware下载中心<strong>下载</strong>好<strong>VMware虚拟机工具</strong>，并安装到您的PC电脑中，请记住您安装的位置。 开始前请先<strong>下载</strong>好我们帮您配置好环境的<strong>Ubuntu镜像</strong>，并解压到您的PC电脑中，请记住您Ubuntu镜像保存的位置。</p><h2 id="_1-快速启动ubuntu" tabindex="-1"><a class="header-anchor" href="#_1-快速启动ubuntu" aria-hidden="true">#</a> 1.快速启动Ubuntu</h2><p>​ 打开VMware虚拟机工具，打开后进入如下界面：</p><p><img src="http://photos.100ask.net/canaan-docs/image-20230801103400736.png" alt="image-20230801103400736"></p><p>我们需要使用VMware打开我们下载好并解压完成的Ubuntu虚拟机镜像。点击<strong>文件</strong>，选择<strong>打开</strong>。</p><p><img src="http://photos.100ask.net/canaan-docs/image-20230801104047685.png" alt="image-20230801104047685"></p><p>此时会弹出文件资源管理器的窗口，我们需要找到我们下载并解压完成的Ubuntu镜像。假设我的虚拟机文件放在<code>E:/K510-aiAPP</code>中，那么我应该进入<code>Ubuntu_20.04.4_VM</code>文件夹中，选中<code>Ubuntu_20.04.4_VM_LinuxVMImages.COM.vmx</code>。</p><p><img src="http://photos.100ask.net/canaan-docs/image-20230801104852495.png" alt="image-20230801104852495"></p><p>打开完成后，会在主页中出现名为K510-aiAPP-Ubuntu20.04的虚拟机，点击<strong>开启此虚拟机</strong></p><p><img src="http://photos.100ask.net/canaan-docs/image-20230801113006467.png" alt="image-20230801113006467"></p><p>打开后，等待虚拟机运行，运行前会询问您以下提示框，点击<strong>我已复制该虚拟机</strong></p><p><img src="http://photos.100ask.net/canaan-docs/image-20230801105332891.png" alt="image-20230801105332891"></p><p>此时等待虚拟机运行即可，运行成功后进入登入界面。点击<code>Ubuntu</code>账户，输入密码为<code>Ubuntu</code></p><p><img src="http://photos.100ask.net/canaan-docs/image-20230801105546859.png" alt="image-20230801105546859"></p><p>输入密码后会自动进入系统。</p><h2 id="_2-查看配置环境" tabindex="-1"><a class="header-anchor" href="#_2-查看配置环境" aria-hidden="true">#</a> 2.查看配置环境</h2><p>​ 由于您使用的是我们提供的虚拟机文件，我们已经默认帮您配置好了环境，您可以进入文件管理器中Home目录，单击右键后选择<code>Open in Terminal</code>，如下图所示。</p><p><img src="http://photos.100ask.net/canaan-docs/image-20230801115537523.png" alt="image-20230801115537523"></p><p>打开终端后，在终端输入<code>pip show nncase</code>，查看是否存在nncase包。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>pip show nncase
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="http://photos.100ask.net/canaan-docs/image-20230801115854261.png" alt="image-20230801115854261"></p><p>输入<code>pip show nncase</code>，查看是否存在nncase-k510包</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>pip show nncase
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="http://photos.100ask.net/canaan-docs/image-20230801120104029.png" alt="image-20230801120104029"></p><h2 id="_3-测试环境" tabindex="-1"><a class="header-anchor" href="#_3-测试环境" aria-hidden="true">#</a> 3.测试环境</h2>`,25),_={href:"https://dongshanpi.cowtransfer.com/s/b70eced85b0d46",target:"_blank",rel:"noopener noreferrer"},v=e("code",null,"/home/ubuntu/yolov5s-modelTransformation",-1),b=o(`<div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cd /home/ubuntu/yolov5s-modelTransformation
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看该目录下的文件</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>buntu@ubuntu2004:~/yolov5s-modelTransformation$ ls
gen_yolov5s_320_with_sigmoid_bf16_with_preprocess_output_nhwc.py
requirements.txt
yolov5s-sim.kmodel
yolov5s-sim.onnx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里对目录下的四个文件进行解释：</p><ul><li>gen_yolov5s_320_with_sigmoid_bf16_with_preprocess_output_nhwc.py：是yolov5s模型转换程序，可将onnx模型格式转换为kmodel模型格式，其中kmodel模型格式为DongshanPI-Vision开发板使用的模型模型格式。</li><li>requirements.txt ：依赖包版本，客户您作为参考。</li><li>yolov5s-sim.kmodel：转换后的模型文件，可用于部署到开发板端。</li><li>yolov5s-sim.onnx：由yolov5源码输出得到的onnx模型格式。</li></ul><p>在终端输入以下命令，将onnx格式的模型转换为kmodel格式的模型文件</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>python gen_yolov5s_320_with_sigmoid_bf16_with_preprocess_output_nhwc.py --target k510   --dump_dir ./tmp --onnx ./yolov5s-sim.onnx --kmodel ./yolov5s-sim.kmodel
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="http://photos.100ask.net/canaan-docs/image-20230801141437118.png" alt="image-20230801141437118"></p><p>转换成功后会生成对应的kmodel文件，查看kmodel的修改时间。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ubuntu@ubuntu2004:~/yolov5s-modelTransformation$ ll yolov5s-sim.kmodel 
-rw-rw-r-- 1 ubuntu ubuntu 14602936 Aug  1 02:13 yolov5s-sim.kmodel
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>到此成功验证Ubuntu已经成功搭建好环境。</p>`,11);function x(k,w){const t=i("ExternalLinkIcon");return l(),r("div",null,[c,e("ul",null,[e("li",null,[e("p",null,[n("VMware虚拟机工具："),e("a",p,[n("VMware下载中心"),a(t)])])]),e("li",null,[u,e("ul",null,[e("li",null,[n("奶牛快传："),e("a",m,[n("DongshanPI-Vision虚拟机-Ubuntu20.04.zip"),a(t)])]),e("li",null,[n("百度网盘："),e("a",g,[n("DongshanPI-Vision虚拟机-Ubuntu20.04.zip"),a(t)])])])])]),h,e("p",null,[n("​ 虚拟机中内置有"),e("a",_,[n("模型转换程序"),a(t)]),n("，这里我们使用该程序测试Ubuntu的环境是否配置完成。该程序位于"),v,n("目录下。在终端中输入以下命令进入该目录：")]),b])}const y=s(d,[["render",x],["__file","02-BuildDevelopmentEnv.html.vue"]]);export{y as default};
